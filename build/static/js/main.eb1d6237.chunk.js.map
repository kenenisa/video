{"version":3,"sources":["Components/Router/Koute.js","Components/Header/Header.js","Context/profileContext.js","Components/Body/Contacts/Contact/Contact.js","Components/func/serviceProvider.js","Components/Body/Contacts/Contacts.js","Components/Body/Profile/Profile.js","Components/Body/Body.js","Components/Control.js","Components/func/func.js","Components/Call/Msg.js","Components/Call/Call.js","Components/Offer/Coming/Coming.js","Components/Offer/Going/Going.js","Components/Pages/Welcome/Welcome.js","Components/Pages/Signup/Signup.js","Components/Pages/Login/Login.js","Components/Pages/Particle.js","Components/Pages/Pages.js","Context/toastContext.js","Components/Home/Home.js","Components/Stream/Individual/Individual.js","Components/Stream/Create/Create.js","Components/Stream/Stream.js","Components/Stream/Live/Live.js","Components/Stream/Watch/Watch.js","Components/func/swarm.js","Components/func/Responder.js","Components/Toast/Toast.js","serviceWorker.js","index.js","Components/App.js"],"names":["Wrapper","base","children","useState","route","setRoute","history","addHistory","Fragment","Router","Provider","value","changeRoute","to","back","length","pop","React","createContext","Route","path","component","useContext","toLowerCase","Header","className","onClick","id","htmlFor","disabled","profile","changeProfile","call","comgingPro","changeComgingPro","answer","reject","Contact","friend","peers","profileContext","online","setOnline","isOnline","useEffect","check","setInterval","clearInterval","random","Math","src","photo","alt","name","data-mdl-for","user","getStorage","me","saveUser","console","log","others","JSON","parse","localStorage","other","bool","map","isExist","newArray","push","stringify","updateUser","createUser","phaseOneRequest","swarm","forEach","peer","validatePeer","type","phase","jes","obj","firstPhase","data","payload","phaseOneResponse","sendPeer","prams","remotes","_channel","readyState","send","Contacts","friends","setFriends","key","Profile","Body","Control","width","window","innerWidth","innerHeight","Msg","msg","count","setData","text","Call","sendText","setMsg","otherFilter","sendFilter","sendPause","otherPause","stream","sendMute","otherMute","endCall","comingPro","buttons","setButtons","textField","setTextField","filter","setFilter","filterOption","setFilterOption","quality","setQuality","pause","setPause","qualityMsg","setQualityMsg","flash","setFlash","mute","setMute","textValue","setTextValue","inputElm","useRef","video","otherVideo","setFilterFunc","dismissQualityMsg","current","play","muted","srcObject","focus","placeholder","ref","onChange","e","target","onKeyPress","nativeEvent","setTimeout","canvas","document","createElement","height","getContext","drawImage","imgUrl","toDataURL","a","href","download","click","screenShot","Coming","callAccepted","Going","state","abort","setState","info","setInfo","redirect","autoPlay","loop","Welcome","Signup","setName","password","setPassword","img","setImg","passwordConf","setPasswordConf","confirm","error","setError","files","search","reader","FileReader","readAsDataURL","onloadend","result","Login","store","Particle","querySelector","c","screenSefat","screenRzmet","addEventListener","Circle","x","y","dx","dy","radius","color","this","minRadius","draw","beginPath","arc","PI","fillStyle","fill","Star","blink","light","dir","circleArray","starArray","i","floor","j","r","hor","ver","animate","requestAnimationFrame","fillRect","k","update","Component","Pages","toast","createToast","Home","toastContext","navigator","onLine","Individual","streams","flag","setWatchStream","datas","setDatas","indivi","topic","body","Create","setTopic","setBody","col","row","Stream","Live","sendStream","alertOthers","otherPeer","Watch","watchStream","getTracks","enabled","hub","signalhub","swarmFunc","createSwarm","uuid","Responder","fakeRoute","Toast","visible","setVisible","delayVisible","delayErase","Boolean","location","hostname","match","ReactDOM","render","setStream","setSwarm","pro","setPro","changeComingPro","changeToast","changeFakeRoute","setOtherFilter","setCount","setOtherPause","setOtherMute","setStreams","setFlag","who","mediaDevices","getUserMedia","audio","then","str","catch","err","on","toString","your","secondPhase","thirdPhase","array","streamExists","appendChild","delayFake","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.eb1d6237.chunk.js","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nexport function Wrapper({ base, children }) {\r\n    const [route, setRoute] = useState(base);\r\n    const [history, addHistory] = useState([base]);\r\n    const changeRoute = (to, back = false) => {\r\n        if (back) {\r\n            if (history[1]) {\r\n                setRoute(history[history.length - 2]);\r\n                history.pop();\r\n                addHistory(history);\r\n            }\r\n        } else {\r\n            setRoute(to);\r\n            addHistory([...history, to]);\r\n        }\r\n    };\r\n    return (\r\n        <React.Fragment>\r\n            <Router.Provider value={{ route, changeRoute }}>\r\n                {children}\r\n            </Router.Provider>\r\n        </React.Fragment>\r\n    );\r\n}\r\nexport const Router = React.createContext({ route: \"\", changeRoute: () => {} });\r\nexport function Route({ path, component }) {\r\n    const { route } = useContext(Router);\r\n    if (route.toLowerCase() === path.toLowerCase()) {\r\n        return <React.Fragment>{component()}</React.Fragment>;\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n","import React, { useContext } from 'react'\r\nimport './Header.css';\r\nimport { Router } from '../Router/Koute';\r\n//\r\nexport default function Header() {\r\n  const { route,changeRoute } = useContext(Router);\r\n    return (\r\n        <header className='mdl-layout__header header'>\r\n            <div className='mdl-layout__header-row'>\r\n                <div className='back' onClick={()=>changeRoute('',true)}>\r\n                    <i className='material-icons'>arrow_back</i>\r\n                </div>\r\n                <span className='mdl-layout-title'>{route}</span>\r\n                <div className='mdl-layout-spacer'></div>\r\n\r\n                <button\r\n                    id='demo-menu-lower-right'\r\n                    className='mdl-button mdl-js-button mdl-button--icon'>\r\n                    <i className='material-icons'>more_vert</i>\r\n                </button>\r\n\r\n                <ul\r\n                    className='mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect'\r\n                    htmlFor='demo-menu-lower-right'>\r\n                    <li className='mdl-menu__item'>Some Action</li>\r\n                    <li className='mdl-menu__item'>Another Action</li>\r\n                    <li disabled className='mdl-menu__item'>\r\n                        Disabled Action\r\n                    </li>\r\n                    <li className='mdl-menu__item'>Yet Another Action</li>\r\n                </ul>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n","import React from 'react';\r\nexport default React.createContext({\r\n    profile: null,\r\n    changeProfile: () => {},\r\n    call: () => {},\r\n    comgingPro: null,\r\n    changeComgingPro: () => {},\r\n    answer: () => {},\r\n    reject:()=>{}\r\n});\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./Contact.css\";\r\nimport { Router } from \"../../../Router/Koute\";\r\nimport profileContext from \"../../../../Context/profileContext\";\r\n//\r\n//\r\nfunction Contact({ friend, peers }) {\r\n    const { changeRoute } = useContext(Router);\r\n    const { changeProfile } = useContext(profileContext);\r\n    const [online, setOnline] = useState(false);\r\n\r\n    const isOnline = () => {\r\n        if (peers[friend.id]) {\r\n            if (!online) {\r\n                setOnline(true);\r\n            }\r\n        } else {\r\n            if (online) {\r\n                setOnline(false);\r\n            }\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        isOnline();\r\n        var check = setInterval(isOnline, 5000);\r\n        return () => {\r\n            clearInterval(check);\r\n        };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    let random = Math.random();\r\n    return (\r\n        <div className='contact'>\r\n            <div className='con'>\r\n                <span\r\n                    onClick={() => {\r\n                        changeProfile(friend);\r\n                        changeRoute(\"profile\");\r\n                    }}>\r\n                    <div className='img-con'>\r\n                        <div className='img'>\r\n                            <img\r\n                                src={friend.photo?friend.photo:'profile.png'}\r\n                                className=''\r\n                                alt='profile'\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className='text'>\r\n                        <div className='name'>{friend.name}</div>\r\n                        <span className={online?'show':'hide'}>Online</span>\r\n                        <div className='log'>\r\n                            <span className='icon'>\r\n                                <i className='material-icons'>call_made</i>\r\n                            </span>\r\n                            <span className='date'> ,Today</span>\r\n                        </div>\r\n                    </div>\r\n                </span>\r\n                <div className='more'>\r\n                    <button\r\n                        id={`demo-menu-lower-right ${random}`}\r\n                        className='btn mdl-button mdl-js-button mdl-button--icon'>\r\n                        <i className='material-icons'>more_vert</i>\r\n                    </button>\r\n\r\n                    <ul\r\n                        className='mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect'\r\n                        data-mdl-for={`demo-menu-lower-right ${random}`}>\r\n                        <li className='mdl-menu__item'>\r\n                            <button className='mdl-button mdl-js-button'>\r\n                                <i className='material-icons'>delete</i> Delete\r\n                            </button>\r\n                        </li>\r\n                        <li className='mdl-menu__item'>\r\n                            <button className='mdl-button mdl-js-button'>\r\n                                <i className='material-icons'>edit</i> Edit\r\n                            </button>\r\n                        </li>\r\n                        <li className='mdl-menu__item'>\r\n                            <button className='mdl-button mdl-js-button'>\r\n                                <i className='material-icons'>\r\n                                    do_not_disturb_alt\r\n                                </i>{\" \"}\r\n                                Clear History\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Contact;\r\n","const user = getStorage().me;\r\n//\r\nexport function streamExists(array, value) {\r\n    let bool = false;\r\n    // eslint-disable-next-line\r\n    array.map(a => {\r\n        if (a.data.me.id === value.data.me.id) {\r\n            bool = true;\r\n        }\r\n    });\r\n    return bool;\r\n}\r\nexport function isExist(value) {\r\n    const others = JSON.parse(localStorage.other);\r\n    let bool = false;\r\n    // eslint-disable-next-line\r\n    others.map(other => {\r\n        if (other.name === value.name) {\r\n            bool = true;\r\n        }\r\n    });\r\n    return bool;\r\n}\r\nexport function updateUser(value) {\r\n    const others = JSON.parse(localStorage.other);\r\n    let newArray = [];\r\n    // eslint-disable-next-line\r\n    others.map(other => {\r\n        if (other.name === value.name) {\r\n            newArray.push(value);\r\n        } else {\r\n            newArray.push(other);\r\n        }\r\n    });\r\n    // console.log(\"[phase 1]: attempting to update user\", value,newArray);\r\n\r\n    localStorage.other = JSON.stringify(newArray);\r\n}\r\nexport function createUser(value) {\r\n    const others = JSON.parse(localStorage.other);\r\n    console.log(value);\r\n    let newArray = others;\r\n    newArray.push(value);\r\n    // console.log(\"[phase 1]: attempting to Create user\", value, newArray);\r\n\r\n    localStorage.other = JSON.stringify(newArray);\r\n}\r\nexport function saveUser(value) {\r\n    console.log(\"[phase 1]: saving: \", value);\r\n    if (value) {\r\n        if (value.name) {\r\n            if (isExist(value)) {\r\n                console.log(\"[phase 1]: user Existes\", value);\r\n                updateUser(value);\r\n            } else {\r\n                console.log(\"[phase 1]: user Does NOT Existes\", value);\r\n                createUser(value);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function phaseOneRequest(swarm) {\r\n    console.log(\"[phase 1]: Started\");\r\n    console.log(\"sending request\");\r\n    swarm.peers.forEach(peer => {\r\n        console.log(peer);\r\n        validatePeer(peer, {\r\n            type: \"request\",\r\n            user: getStorage().me,\r\n            phase: 1\r\n        });\r\n    });\r\n}\r\nexport function phaseOneResponse(swarm, payload) {\r\n    console.log(\"[phase 1]: response Recived\", payload);\r\n    saveUser(payload);\r\n    swarm.peers.forEach(peer => {\r\n        validatePeer(peer, {\r\n            type: \"response\",\r\n            user: user,\r\n            phase: 1\r\n        });\r\n    });\r\n}\r\nexport function store(what) {\r\n    if (what === \"other\") {\r\n    } else {\r\n    }\r\n}\r\nexport function jes(obj) {\r\n    return JSON.stringify(obj);\r\n}\r\nexport function jep(obj) {\r\n    return JSON.parse(obj);\r\n}\r\nexport function firstPhase(swarm, data) {\r\n    if (data.type === \"request\") {\r\n        phaseOneResponse(swarm, data.user);\r\n    } else if (data.type === \"response\") {\r\n        saveUser(data.user);\r\n    } else {\r\n        console.log(\"Someting is wrong on the recived data\");\r\n    }\r\n}\r\nexport function secondPhase(swarm, data) {\r\n    if (data.type === \"offer\") {\r\n        //call recived or call offered\r\n        //prepare to ring\r\n        if (data.who.your === getStorage().me.id) {\r\n            // is the call for me?\r\n            console.log(\"ringing the call from: \");\r\n            return { type: \"ring\", data };\r\n        } else {\r\n            return { type: null, data: null };\r\n        }\r\n    } else if (data.type === \"answer\") {\r\n        //answer recived\r\n        //prepare to enable track\r\n        const peer = swarm.remotes[data.who];\r\n        peer.stream.getTracks()[0].enabled = true;\r\n        console.log(\"Answer recived from: \", peer);\r\n        return { type: \"connected\", data };\r\n    } else if (data.type === \"rejected\") {\r\n        return { type: \"rejected\", data };\r\n    } else if (data.type === \"accepted\") {\r\n        return { type: \"accepted\", data };\r\n    } else if (data.type === \"end\") {\r\n        const peer = swarm.remotes[data.who];\r\n        peer.stream.getTracks()[0].enabled = false;\r\n        console.log(\"call ended\");\r\n        return { type: \"end\", data };\r\n    } else {\r\n        return { type: \"abort\", data };\r\n    }\r\n}\r\nexport function getStorage() {\r\n\r\n    return {\r\n        me: localStorage.me ? JSON.parse(localStorage.me) : {},\r\n        other: localStorage.me ? JSON.parse(localStorage.other) : []\r\n    };\r\n}\r\nexport function sendPeer(id, swarm, prams) {\r\n    const peer = swarm.remotes[id];\r\n    if (peer && peer._channel.readyState === \"open\") {\r\n        peer.send(jes(prams));\r\n        return true;\r\n    } else {\r\n        console.log(\"can not send b/c:\", peer);\r\n        return false;\r\n    }\r\n}\r\nexport function validatePeer(peer, prams) {\r\n    if (peer && peer._channel.readyState === \"open\") {\r\n        peer.send(jes(prams));\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Contacts.css';\r\n//components\r\nimport Contact from './Contact/Contact';\r\nimport { getStorage } from '../../func/serviceProvider';\r\n//\r\nfunction Contacts({ peers }) {\r\n    const [friends, setFriends] = useState([]);\r\n    useEffect(() => {\r\n        setFriends(getStorage().other);\r\n    }, []);\r\n    return (\r\n        <div className='contacts'>\r\n            {!friends[0] ? <div className=\"no-contact\">\r\n                There are no contacts online yet. Stay online and wait or come back later.\r\n            </div>:''}\r\n            {friends.map((friend, key) => (\r\n                <Contact friend={friend} key={key} peers={peers}/>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Contacts\r\n","import React,{useContext} from \"react\";\r\nimport \"./Profile.css\";\r\nimport { Router } from \"../../Router/Koute\";\r\nimport profileContext from \"../../../Context/profileContext\";\r\n\r\n//\r\nfunction Profile() {\r\n    const { changeRoute } = useContext(Router);\r\n    const { profile,call } = useContext(profileContext);\r\n    return (\r\n        <React.Fragment>\r\n            <div className='background'></div>\r\n            <div className='profile'>\r\n                <div className='user'>\r\n                    <div className='img'>\r\n                        <img src={profile.photo} alt='profile' />\r\n                    </div>\r\n                    <div className='name'>{profile.name}</div>\r\n                    <div className='buttons'>\r\n                        <button\r\n                            className='call-btn mdl-button mdl-js-ripple-effect mdl-js-button'\r\n                            onClick={() => { call(profile.id); }}>\r\n                            <i className='material-icons'>call</i>\r\n                        </button>\r\n                        <button\r\n                            className='alert mdl-button mdl-js-ripple-effect mdl-js-button'\r\n                            onClick={() => changeRoute(\"contacts\")}>\r\n                            <i className='material-icons'>\r\n                                notifications_active\r\n                            </i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className='logs'>\r\n                    <div className='head'>Logs</div>\r\n                    <div className='log'>\r\n                        <div className='left'>\r\n                            <div className='type'>\r\n                                <i className='material-icons made'>call_made</i>\r\n                                <span> ,Outgoing call</span>\r\n                            </div>\r\n                            <div className='time'>Today</div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <button className='mdl-button mdl-js-ripple-effect mdl-js-button'>\r\n                                <i className='material-icons'>delete</i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='log'>\r\n                        <div className='left'>\r\n                            <div className='type'>\r\n                                <i className='material-icons missed'>\r\n                                    call_missed\r\n                                </i>\r\n                                <span> ,Missed call</span>\r\n                            </div>\r\n                            <div className='time'>Yesterday</div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <button className='mdl-button mdl-js-ripple-effect mdl-js-button'>\r\n                                <i className='material-icons'>delete</i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='log'>\r\n                        <div className='left'>\r\n                            <div className='type'>\r\n                                <i className='material-icons received'>\r\n                                    call_received\r\n                                </i>\r\n                                <span> ,Received call</span>\r\n                            </div>\r\n                            <div className='time'>Yesterday</div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <button className='mdl-button mdl-js-ripple-effect mdl-js-button'>\r\n                                <i className='material-icons'>delete</i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\n// import Peer from \"simple-peer\";\r\n//\r\nimport Contacts from \"./Contacts/Contacts\";\r\nimport Profile from \"./Profile/Profile\";\r\nimport { Route } from \"./../Router/Koute\";\r\n\r\n//\r\nfunction Body({ peers }) {\r\n    return (\r\n        <main className='mdl-layout__content'>\r\n            <div className='page-content'>\r\n                <Route path='contacts' component={()=><Contacts peers={peers}/>} />\r\n                <Route path='profile' component={Profile} />\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Body;\r\n\r\n","import React from 'react'\r\n//components\r\nimport Header from './Header/Header';\r\nimport Body from './Body/Body';\r\n//\r\nfunction Control({peers}) {\r\n    return (\r\n        <React.Fragment>\r\n            <Header />\r\n            <Body peers={peers}/>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Control\r\n","export const width = ()=> {\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n\r\n    if (height > width) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}","import React, { useState, useEffect } from \"react\";\r\n\r\nfunction Msg({ msg,count }) {\r\n    const [data, setData] = useState(msg);\r\n    useEffect(() => {\r\n        setData(msg);\r\n        console.log('count is changing: ', count, msg);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [count]);\r\n    return (\r\n        <div>\r\n            {data.map((text, key) => (\r\n                    <div className='con' key={key}>\r\n                        <span className='name'>\r\n                            {text.name}\r\n                            {`: `}\r\n                        </span>\r\n                        <span className='msg'>{text.msg}</span>\r\n                    </div>\r\n                ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Msg\r\n","import React, { useState, useRef, useContext, useEffect } from \"react\";\r\nimport \"./Call.css\";\r\n//\r\nimport { width } from \"./../func/func\";\r\nimport profileContext from \"../../Context/profileContext\";\r\nimport { getStorage } from \"../func/serviceProvider\";\r\nimport Msg from \"./Msg\";\r\nimport { Router } from \"../Router/Koute\";\r\n// import { Router } from \"../Router/Koute\";\r\n//\r\nfunction Call({\r\n    sendText,\r\n    msg,\r\n    setMsg,\r\n    otherFilter,\r\n    sendFilter,\r\n    count,\r\n    sendPause,\r\n    otherPause,\r\n    stream,\r\n    swarm,\r\n    sendMute,\r\n    otherMute,\r\n    endCall\r\n}) {\r\n    const { changeRoute } = useContext(Router);\r\n    const { comingPro, profile } = useContext(profileContext);\r\n    const [buttons, setButtons] = useState(false);\r\n    const [textField, setTextField] = useState(false);\r\n    const [filter, setFilter] = useState(false);\r\n    const [filterOption, setFilterOption] = useState(false);\r\n    const [quality, setQuality] = useState(false);\r\n    const [pause, setPause] = useState(false);\r\n    const [qualityMsg, setQualityMsg] = useState(false);\r\n    const [flash, setFlash] = useState(false);\r\n    const [mute, setMute] = useState(false);\r\n    const [textValue, setTextValue] = useState(\"\");\r\n    const inputElm = useRef(null);\r\n    const video = useRef(null);\r\n    const otherVideo = useRef(null);\r\n\r\n    const startWriting = () => {\r\n        setTextField(!textField);\r\n        inputElm.current.focus();\r\n    };\r\n    const setFilterFunc = value => {\r\n        const isSent = sendFilter(\r\n            comingPro.id ? comingPro.id : profile.id,\r\n            value\r\n        );\r\n        if (isSent) {\r\n            setFilter(value);\r\n        }\r\n        setFilterOption(false);\r\n    };\r\n    const setQualityFunc = () => {\r\n        setQuality(!quality);\r\n        if (!quality) {\r\n            setQualityMsg(true);\r\n            setTimeout(dismissQualityMsg, 3000);\r\n        }\r\n    };\r\n    const dismissQualityMsg = () => {\r\n        setQualityMsg(false);\r\n    };\r\n    const screenShot = () => {\r\n        const canvas = document.createElement(\"canvas\");\r\n        canvas.width = window.innerWidth;\r\n        canvas.height = window.innerHeight;\r\n        const context = canvas.getContext(\"2d\");\r\n        context.drawImage(\r\n            otherVideo.current,\r\n            0,\r\n            0,\r\n            window.innerWidth,\r\n            window.innerHeight\r\n        );\r\n        const imgUrl = canvas.toDataURL(\"image/png\");\r\n        const a = document.createElement(\"a\");\r\n        a.href = imgUrl;\r\n        a.download = comingPro.id ? comingPro.name : profile.name;\r\n        a.click();\r\n    };\r\n    const flashScreen = () => {\r\n        setFlash(true);\r\n        setTimeout(dismissFlash, 500);\r\n        function dismissFlash() {\r\n            setFlash(false);\r\n        }\r\n        screenShot();\r\n    };\r\n    const send = e => {\r\n        if (e.nativeEvent.key === \"Enter\") {\r\n            //send it over\r\n            const isSent = sendText(\r\n                comingPro.id ? comingPro.id : profile.id,\r\n                textValue\r\n            );\r\n            if (isSent) {\r\n                // show to myself\r\n                let value = msg;\r\n                value.push({ msg: textValue, name: getStorage().me.name });\r\n                setMsg(value);\r\n            }\r\n            setTextField(false);\r\n            setTextValue(\"\");\r\n        }\r\n    };\r\n    const makePause = () => {\r\n        if (sendPause(comingPro.id ? comingPro.id : profile.id, !pause)) {\r\n            setPause(!pause);\r\n            if (video) {\r\n                if (!pause) {\r\n                    video.current.pause();\r\n                } else {\r\n                    video.current.play();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const makeMute = () => {\r\n        if (sendMute(comingPro.id ? comingPro.id : profile.id, !mute)) {\r\n            setMute(!mute);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        if (otherVideo) {\r\n            if (otherPause) {\r\n                otherVideo.current.pause();\r\n            } else {\r\n                otherVideo.current.play();\r\n            }\r\n        }\r\n    }, [otherPause]);\r\n    useEffect(() => {\r\n        if (otherVideo) {\r\n            if (otherMute) {\r\n                otherVideo.current.muted = true;\r\n            } else {\r\n                otherVideo.current.muted = false;\r\n            }\r\n        }\r\n    }, [otherMute]);\r\n    useEffect(() => {\r\n        if (video) {\r\n            video.current.srcObject = stream;\r\n            video.current.muted = true;\r\n            video.current.play();\r\n        }\r\n        if (otherVideo) {\r\n            otherVideo.current.srcObject =\r\n                swarm.remotes[comingPro.id ? comingPro.id : profile.id].stream;\r\n            otherVideo.current.play();\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [stream, swarm]);\r\n    return (\r\n        <div className='call'>\r\n            <div className={`flash ${flash ? \"show\" : \"\"}`}></div>\r\n            <div className='top'>\r\n                <div\r\n                    className={`circle text ${textField ? \"active\" : \"\"}`}\r\n                    onClick={startWriting}>\r\n                    <i className='material-icons'>textsms</i>\r\n                    <div className={`input ${textField ? \"\" : \"hide\"}`}>\r\n                        <input\r\n                            type='text'\r\n                            placeholder='Text Message ... '\r\n                            ref={inputElm}\r\n                            onChange={e => {\r\n                                setTextValue(e.target.value);\r\n                            }}\r\n                            onKeyPress={send}\r\n                            value={textValue}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className={`filter circle ${filter ? \"active\" : \"\"}`}\r\n                    onClick={() => setFilterOption(!filterOption)}>\r\n                    <i className='material-icons'>photo_filter</i>\r\n                    <div className={`options ${filterOption ? \"\" : \"hide\"}`}>\r\n                        {filter ? (\r\n                            <div onClick={() => setFilterFunc(false)}>\r\n                                {\" \"}\r\n                                None\r\n                            </div>\r\n                        ) : (\r\n                            \"\"\r\n                        )}\r\n                        <div onClick={() => setFilterFunc(\"sepia\")}> Sepia</div>\r\n                        <div onClick={() => setFilterFunc(\"bnw\")}>\r\n                            {\" \"}\r\n                            Black and white\r\n                        </div>\r\n                        <div onClick={() => setFilterFunc(\"inverted\")}>\r\n                            {\" \"}\r\n                            Inverted\r\n                        </div>\r\n                        <div onClick={() => setFilterFunc(\"contrast\")}>\r\n                            {\" \"}\r\n                            Contrast\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className={`hd circle ${quality ? \"active\" : \"\"}`}\r\n                    onClick={() => setQualityFunc()}>\r\n                    <i className='material-icons'>high_quality</i>\r\n                    <div className={`msg ${qualityMsg ? \"\" : \"hide\"}`}>\r\n                        Trying to Increase Your Camera's Quality\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className={`pause circle ${pause ? \"active\" : \"\"}`}\r\n                    onClick={() => {\r\n                        makePause();\r\n                    }}>\r\n                    <i className='material-icons'>\r\n                        {pause ? \"play_arrow\" : \"pause\"}\r\n                    </i>\r\n                </div>\r\n            </div>\r\n            <div className='texts'>\r\n                <Msg msg={msg} count={count} />\r\n            </div>\r\n            <div className={`pausing ${otherPause ? \"\" : \"hide\"}`}>\r\n                <i className='material-icons'>pause</i>\r\n            </div>\r\n            <div className='videos'>\r\n                <div className='other' onClick={() => setButtons(!buttons)}>\r\n                    <video\r\n                        ref={otherVideo}\r\n                        alt='other'\r\n                        className={`video ${\r\n                            width() ? \"portrate\" : \"landscape\"\r\n                        } ${otherFilter ? otherFilter : \"\"}`}></video>\r\n                </div>\r\n                {/* my video */}\r\n                <div\r\n                    className={`my ${width() ? \"port\" : \"land\"}  ${\r\n                        buttons ? \"hide\" : \"\"\r\n                    }`}>\r\n                    <video\r\n                        ref={video}\r\n                        alt='call'\r\n                        className={filter ? filter : \"\"}></video>\r\n                </div>\r\n            </div>\r\n            <div className='bottom'>\r\n                <div className='capture circle' onClick={flashScreen}>\r\n                    <i className='material-icons'>camera_alt</i>\r\n                </div>\r\n                <div\r\n                    className='hang-up circle'\r\n                    onClick={() => {\r\n                        endCall(comingPro.id ? comingPro.id : profile.id);\r\n                        changeRoute('home');\r\n                    }\r\n                    }>\r\n                    <i className='material-icons'>call_end</i>\r\n                </div>\r\n                <div\r\n                    className={`mute circle ${mute ? \"active\" : \"\"}`}\r\n                    onClick={() => makeMute()}>\r\n                    <i className='material-icons'>{mute ? \"mic_off\" : \"mic\"}</i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Call;\r\n","import React, { useContext, useEffect } from 'react'\r\nimport './Coming.css';\r\nimport profileContext from '../../../Context/profileContext';\r\nimport { Router } from '../../Router/Koute';\r\nfunction Coming({ reject,callAccepted }) {\r\n    const { comingPro, answer } = useContext(profileContext);\r\n    const { changeRoute } = useContext(Router);\r\n    useEffect(() => {\r\n        callAccepted(comingPro.id);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    return (\r\n        <div className='coming'>\r\n            <div className='name'>\r\n                <span>{comingPro.name}</span>\r\n            </div>\r\n            <div className='button'>\r\n                <div className='reject cirlce' onClick={() => {\r\n                    reject(comingPro.id);\r\n                    changeRoute('home')\r\n                }}>\r\n                    <i className='material-icons'>call_end</i>\r\n                </div>\r\n                <div\r\n                    className='answer cirlce'\r\n                    onClick={() => {\r\n                        answer(comingPro.id);\r\n                        changeRoute(\"call\");\r\n                    }}>\r\n                    <i className='material-icons'>call</i>\r\n                </div>\r\n            </div>\r\n            <div className='background'>\r\n                <img src={comingPro.photo} alt='user' />\r\n            </div>\r\n            {/* <audio autoPlay loop>\r\n                <source src=\"./ring tone/tone.mp3\"/>\r\n            </audio> */}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Coming\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./Going.css\";\r\nimport { Router } from \"../../Router/Koute\";\r\nimport profileContext from \"../../../Context/profileContext\";\r\n//\r\nfunction Going({ state, abort, setState }) {\r\n    const { changeRoute } = useContext(Router);\r\n    const [info, setInfo] = useState(\"Connecting ...\");\r\n    const { profile } = useContext(profileContext);\r\n    useEffect(() => {\r\n        if (state.type === \"rejected\") {\r\n            setInfo(\"Your call was Rejected!\");\r\n            setTimeout(redirect, 5000);\r\n        } else if (state.type === \"accepted\") {\r\n            setInfo(\"Ringing ...\");\r\n        } else {\r\n            setInfo(\"Connecting ...\");\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state]);\r\n    const redirect = () => {\r\n        setState({ type: null, data: null });\r\n        changeRoute(\"profile\");\r\n    };\r\n    return (\r\n        <div className='going'>\r\n            <audio autoPlay loop>\r\n                <source src='tu.mp3' type='audio/mpeg' />\r\n            </audio>\r\n            <div className='status'>\r\n                <span>{info}</span>\r\n            </div>\r\n            <div\r\n                className='button'\r\n                onClick={() => {\r\n                    changeRoute(\"contacts\");\r\n                    abort(profile.id);\r\n                }}>\r\n                <i className='material-icons'>call_end</i>\r\n            </div>\r\n            <div className='video'>\r\n                <img src='video-other.jpg' alt='video' />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Going;\r\n","import React, { useContext } from \"react\";\r\nimport \"./Welcome.css\";\r\nimport { Router } from \"../../Router/Koute\";\r\n\r\n//\r\nfunction Welcome() {\r\n    const { changeRoute } = useContext(Router);\r\n    return (\r\n        <div className='welcome'>\r\n            \r\n            <div className='con'>\r\n                <div className='text'>Wellcome</div>\r\n                <div className='intro'>\r\n                    <div className='slide s1'>\r\n                        <div className='icon'>\r\n                            <i className='material-icons'>network_check</i>\r\n                        </div>\r\n                        <div className='Title'>Fast</div>\r\n                        <div className='des'>\r\n                            Modern day tech enables this app to directly connect\r\n                            to your firends which makes it Really Fast!\r\n                        </div>\r\n                    </div>\r\n                    <div className='slide s2'>\r\n                        <div className='icon'>\r\n                            <i className='material-icons'>security</i>\r\n                        </div>\r\n                        <div className='Title'>Secure</div>\r\n                        <div className='des'>\r\n                            Unlike other apps, your data gets saved on your\r\n                            divice without a server Which makes it Super Secure!\r\n                        </div>\r\n                    </div>\r\n                    <div className='slide s3'>\r\n                        <div className='icon'>\r\n                            <i className='material-icons'>\r\n                                sentiment_very_satisfied\r\n                            </i>\r\n                        </div>\r\n                        <div className='Title'>Fun</div>\r\n                        <div className='des'>\r\n                            HD video chating and streaming while you get the\r\n                            best expirance, is Surely a great Fun!\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='buttons'>\r\n                    <button\r\n                        className='login'\r\n                        onClick={() => changeRoute(\"login\")}>\r\n                        Log In\r\n                    </button>\r\n                    <button\r\n                        className='signup'\r\n                        onClick={() => changeRoute(\"signup\")}>\r\n                        Sign Up\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Welcome;\r\n","import React, { useContext, useState } from \"react\";\r\nimport \"./Signup.css\";\r\nimport { Router } from \"../../Router/Koute\";\r\nimport { getStorage } from \"../../func/serviceProvider\";\r\n\r\n//\r\nfunction Signup() {\r\n    const { changeRoute } = useContext(Router);\r\n    const [name, setName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [img, setImg] = useState(null);\r\n    const [passwordConf, setPasswordConf] = useState(\"\");\r\n    const [error, setError] = useState({\r\n        name: false,\r\n        password: false,\r\n        confirm: false,\r\n        photo: false\r\n    });\r\n    const [msg, setMsg] = useState(false);\r\n    const setNameFunc = e => {\r\n        setName(e.nativeEvent.target.value);\r\n    };\r\n    const setPasswordFunc = e => {\r\n        setPassword(e.nativeEvent.target.value);\r\n    };\r\n    const setPasswordConfFunc = e => {\r\n        setPasswordConf(e.nativeEvent.target.value);\r\n    };\r\n    const handleFile = e => {\r\n        if (e.target.files[0].type.search(\"image\") === 0) {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(e.target.files[0]);\r\n            reader.onloadend = e => {\r\n                setImg(reader.result);\r\n            };\r\n            setMsg(false)\r\n        } else {\r\n         setMsg(\"The provided file is not an image. Please provide a file with jpg/png extention.\");\r\n        }\r\n    };\r\n    const handleSubmit = () => {\r\n        let result = {\r\n            name: name ? false : \"empty\",\r\n            password: password ? false : \"empty\",\r\n            confirm: passwordConf ? false : \"empty\"\r\n        };\r\n        if (name && password && passwordConf) {\r\n            if (password !== passwordConf) {\r\n                setMsg(\r\n                    \"Password Confarmation doesn't match with the given password.\"\r\n                );\r\n            } else {\r\n                const user = getStorage().me;\r\n                user.name = name;\r\n                user.password = password;\r\n                user.photo = img ? img : null;\r\n                localStorage.me = JSON.stringify(user);\r\n                changeRoute('home');\r\n                setMsg(false);\r\n            }\r\n        }\r\n        setError(result);\r\n    };\r\n    return (\r\n        <div className='Signup'>\r\n            <div className='con'>\r\n                <div className='text'>Signup</div>\r\n                <div className='forms'>\r\n                    {error.name ||\r\n                    error.password ||\r\n                    error.confirm ||\r\n                    error.photo ? (\r\n                        <div className='error'>\r\n                            Please fill every field with the aproprate\r\n                            information.\r\n                        </div>\r\n                    ) : \r\n                        msg ? <div className='error msg'>{msg}</div> : \"\"}\r\n                    \r\n\r\n                    <input\r\n                        type='text'\r\n                        onChange={setNameFunc}\r\n                        placeholder='Username'\r\n                        className={`${error.name ? \"br\" : \"\"} name`}\r\n                        value={name}\r\n                    />\r\n                    <input\r\n                        type='password'\r\n                        onChange={setPasswordFunc}\r\n                        placeholder='Password'\r\n                        className={`${error.password ? \"br\" : \"\"} password`}\r\n                        value={password}\r\n                    />\r\n                    <input\r\n                        type='password'\r\n                        onChange={setPasswordConfFunc}\r\n                        placeholder='Confirm Password'\r\n                        className={`${error.confirm ? \"br\" : \"\"} confirm`}\r\n                        value={passwordConf}\r\n                    />\r\n                    <div className='provide-photo'>\r\n                        <input\r\n                            type='file'\r\n                            placeholder='Provide Photo'\r\n                            className='photo'\r\n                            onChange={handleFile}\r\n                        />\r\n                        <button className='mdl-button mdl-js-button fake-button'>\r\n                            <i className='material-icons'>add</i>\r\n                            Add Photo\r\n                        </button>\r\n                    </div>\r\n                    {name || img ? (\r\n                        <div className='user'>\r\n                            <div className='header'>Signing up as...</div>\r\n                            <div className='img'>\r\n                                <i className='material-icons'>access_time</i>\r\n                                <img\r\n                                    src={img ? img : \"profile.png\"}\r\n                                    alt={`${name}'s profile`}\r\n                                />\r\n                            </div>\r\n                            <div className='name'>{name}</div>\r\n                        </div>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </div>\r\n                <div className='buttons'>\r\n                    <button\r\n                        className='login'\r\n                        onClick={() => changeRoute(\"welcome\")}>\r\n                        Cancle\r\n                    </button>\r\n                    <button className='signup' onClick={handleSubmit}>\r\n                        Signup\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useContext, useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport { Router } from \"../../Router/Koute\";\r\n\r\n//\r\nfunction Login() {\r\n    const { changeRoute } = useContext(Router);\r\n    const [name, setName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState({\r\n        name: false,\r\n        password: false,\r\n        confirm: false,\r\n        photo: false\r\n    });\r\n    const [msg, setMsg] = useState(false);\r\n    const setNameFunc = e => {\r\n        setName(e.nativeEvent.target.value);\r\n    };\r\n    const setPasswordFunc = e => {\r\n        setPassword(e.nativeEvent.target.value);\r\n    };\r\n    const handleSubmit = () => {\r\n        let result = {\r\n            name: name ? false : \"empty\",\r\n            password: password ? false : \"empty\",\r\n        };\r\n        if (name && password ) {\r\n            const store = JSON.parse(localStorage.me);\r\n            \r\n            if (name.toLowerCase() === store.name.toLowerCase()) {\r\n                if (password.toLowerCase() === store.password.toLowerCase()) {\r\n                    changeRoute('Home');\r\n                } else {\r\n                    setMsg('Username or Password is not Correct.')\r\n                }\r\n            } else {\r\n                    setMsg('Username or Password is not Correct.')\r\n                }\r\n        }\r\n        setError(result);\r\n    };\r\n\r\n    return (\r\n        <div className='Login'>\r\n            <div className='con'>\r\n                <div className='text'>Login</div>\r\n                <div className='forms'>\r\n                    {error.name ||\r\n                    error.password ||\r\n                    error.confirm ||\r\n                    error.photo ? (\r\n                        <div className='error'>\r\n                            Please fill every field with the aproprate\r\n                            information.\r\n                        </div>\r\n                    ) : msg ? <div className='error'>{msg}</div> : \"\"}\r\n                    <input\r\n                        type='text'\r\n                        onChange={setNameFunc}\r\n                        placeholder='Username'\r\n                        className={`${error.name ? \"br\" : \"\"} name`}\r\n                        value={name}\r\n                    />\r\n                    <input\r\n                        type='password'\r\n                        onChange={setPasswordFunc}\r\n                        placeholder='Password'\r\n                        className={`${error.password ? \"br\" : \"\"} password`}\r\n                        value={password}\r\n                    />\r\n                </div>\r\n                <div className='buttons'>\r\n                    <button\r\n                        className='login'\r\n                        onClick={() => changeRoute(\"welcome\")}>\r\n                        Cancle\r\n                    </button>\r\n                    <button\r\n                        className='signup'\r\n                        onClick={handleSubmit}>\r\n                        Login\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nclass Particle extends React.Component {\r\n  render() {\r\n    return <canvas />;\r\n  }\r\n  componentDidMount() {\r\n    var canvas = document.querySelector(\"canvas\");\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n\r\n    var c = canvas.getContext(\"2d\");\r\n    const screenSefat = window.innerWidth;\r\n    const screenRzmet = window.innerHeight;\r\n    window.addEventListener(\"resize\", function() {\r\n      canvas.width = window.innerWidth + 100;\r\n      canvas.height = window.innerHeight + 100;\r\n    });\r\n    class Circle {\r\n      constructor(x, y, dx, dy, radius, color) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.dx = dx;\r\n        this.dy = dy;\r\n        this.radius = radius;\r\n        this.color = color;\r\n        this.minRadius = radius;\r\n        this.draw = function () {\r\n          c.beginPath();\r\n          c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\r\n          c.fillStyle = this.color;\r\n          c.fill();\r\n        };\r\n      };\r\n        update () {\r\n          if (this.x + this.radius > screenSefat + 100 ||\r\n            this.x - radius < -100) {\r\n            this.dx = -this.dx;\r\n          }\r\n          if (this.y + this.radius > screenSefat + 100 ||\r\n            this.y - radius < -100) {\r\n            this.dy = -this.dy;\r\n          }\r\n          this.x += this.dx;\r\n          this.y += this.dy;\r\n          this.draw();\r\n        }\r\n    }\r\n    class Star {\r\n      constructor(x, y, radius, blink) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.radius = radius;\r\n        this.color = color;\r\n        this.minRadius = radius;\r\n        this.blink = blink;\r\n        this.light = Math.random();\r\n        this.dir = 0.001;\r\n      }\r\n      draw () {\r\n        c.beginPath();\r\n        c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\r\n        c.fillStyle = \"rgba(255,255,255,\" + this.light + \")\";\r\n        c.fill();\r\n      };\r\n      update () {\r\n        if (this.blink) {\r\n            this.light += this.dir;\r\n            if (this.light >= 1) {\r\n              this.light = -this.dir;\r\n            }\r\n            else if (this.light <= 0) {\r\n              this.light = this.dir;\r\n            }\r\n          }\r\n          this.draw();\r\n        };\r\n    }\r\n\r\n    var circleArray = [];\r\n    var starArray = [];\r\n\r\n    for (var i = 0; i <20; i++) {\r\n      var radius = (Math.random() + 0.2) * 1.5;\r\n      var x = Math.random() * (screenSefat - radius * 2) + radius;\r\n      var y = Math.random() * (screenRzmet - radius * 2) + radius;\r\n      var dx = (Math.random() - 0.5) * 8;\r\n      var dy = (Math.random() - 0.5) * 8;\r\n      var color = [\r\n        \"rgba(255,255,255,1)\",\r\n        \"rgba(255,255,255,0.5)\",\r\n        \"rgba(255,255,255,0.3)\"\r\n      ];\r\n\r\n      circleArray.push(\r\n        new Circle(\r\n          x,\r\n          y,\r\n          dx,\r\n          dy,\r\n          radius,\r\n          color[Math.floor(Math.random() * color.length)]\r\n        )\r\n      );\r\n    }\r\n\r\n    for (var j = 0; j < screenSefat*0.25; j++) {\r\n      var r = Math.random() + 0.0001;\r\n      var hor = Math.random() * (screenSefat - r * 2) + r;\r\n      var ver = Math.random() * (screenRzmet - r * 2) + r;\r\n      var blink;\r\n      if (Math.random() > 0.2) {\r\n        blink = true;\r\n      } else {\r\n        blink = false;\r\n      }\r\n      starArray.push(new Star(hor, ver, r, blink));\r\n    }\r\n    function animate() {\r\n      requestAnimationFrame(animate);\r\n      c.fillStyle = \"rgba(0, 0, 40,0.25)\";\r\n      c.fillRect(0, 0, screenSefat, screenRzmet);\r\n      for (var k = 0; k < circleArray.length; k++) {\r\n        circleArray[k].update();\r\n      }\r\n      for (var a = 0; a < starArray.length; a++) {\r\n        starArray[a].update();\r\n      }\r\n    }\r\n    animate();\r\n  }\r\n}\r\n\r\nexport default Particle;\r\n","import React from 'react'\r\nimport './Pages.css';\r\n//\r\nimport { Route } from './../Router/Koute';\r\nimport Welcome from './Welcome/Welcome';\r\nimport Signup from './Signup/Signup';\r\nimport Login from './Login/Login';\r\nimport Particle from \"./Particle\";\r\n//\r\nfunction Pages() {\r\n    return (\r\n        <div className=\"pages\">\r\n            <div className='bg'>\r\n                <Particle />\r\n            </div>\r\n            <Route path='welcome' component={() => <Welcome />} />\r\n            <Route path='signup' component={() => <Signup />} />\r\n            <Route path='login' component={() => <Login />} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pages\r\n","import React from \"react\";\r\nexport default React.createContext({\r\n    toast: '',\r\n    createToast:()=>{}\r\n});\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport './Home.css';\r\nimport { Router } from './../Router/Koute';\r\nimport toastContext from '../../Context/toastContext';\r\n//\r\nfunction Home() {\r\n    const { changeRoute } = useContext(Router);\r\n    const { createToast } = useContext(toastContext);\r\n    const [online, setOnline] = useState(false);\r\n    const call = () => {\r\n        if (online) {\r\n            changeRoute('contacts')\r\n        } else {\r\n            createToast('You are currently offline. refresh the page when you are connected to some network','r');\r\n        }\r\n    }\r\n    const stream = () => {\r\n        if (online) {\r\n            changeRoute(\"stream\");\r\n        } else {\r\n            createToast(\r\n                \"You are currently offline. refresh the page when you are connected to some network\",\r\n                \"r\"\r\n            );\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        if (navigator.onLine) {\r\n            setOnline(true);\r\n        }\r\n    }, []);\r\n    return (\r\n        <div className='home'>\r\n            <div className='con'>\r\n                <div className='mode'>Select mode</div>\r\n                <div\r\n                    className='card call'\r\n                    onClick={call}>\r\n                    <i className='material-icons'>call</i>\r\n                    Call\r\n                </div>\r\n                <div className='card stream' onClick={stream}>\r\n                    <i className='material-icons'>public</i>\r\n                    Stream\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport './Individual.css';\r\nimport { Router } from '../../Router/Koute';\r\n//\r\nfunction Individual({ streams, flag,setWatchStream }) {\r\n    const [datas, setDatas] = useState([]);\r\n    const { changeRoute } = useContext(Router);\r\n    useEffect(() => {\r\n        setDatas(streams);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [flag])\r\n    const indivi = (data) => {\r\n        setWatchStream(data)\r\n        changeRoute('watch');\r\n    }\r\n    return (\r\n        <div>\r\n            {!datas[0] ? (\r\n                <div className='err'>\r\n                    There are no streams avilable right now, but you can create\r\n                    your own below!\r\n                </div>\r\n            ) : (\r\n                \"\"\r\n            )}\r\n\r\n            {datas.map((data, key) => (\r\n                <div className='ind' key={key} onClick={()=>indivi(data)}>\r\n                    <div className='topic'>\r\n                        {data.data.data.topic}\r\n                    </div>\r\n                    <div className='body'>\r\n                        \r\n                        {data.data.data.body}\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Individual\r\n","import React, { useState, useContext } from \"react\";\r\nimport \"./Create.css\";\r\nimport { jes } from \"../../func/serviceProvider\";\r\nimport { Router } from \"../../Router/Koute\";\r\n//\r\nfunction Create({setState}) {\r\n    const [topic, setTopic] = useState(\"\");\r\n    const [body, setBody] = useState(\"\");\r\n    const { changeRoute } = useContext(Router);\r\n    const createStream = () => {\r\n        if (topic !== '' && body !== '') {   \r\n            localStorage.stream = jes({ topic, body });\r\n            changeRoute('live');\r\n        }\r\n    };\r\n    return (\r\n        <div className='create'>\r\n            <h2>Create your own stream</h2>\r\n            <input\r\n                className=''\r\n                type='text'\r\n                placeholder='Topic'\r\n                onChange={e => setTopic(e.target.value)}\r\n                value={topic}\r\n            />\r\n            <textarea\r\n                placeholder='Discription about the Topic'\r\n                col='30'\r\n                row='15'\r\n                onChange={e => setBody(e.target.value)}\r\n                value={body}></textarea>\r\n            <button onClick={()=>setState(true)} className=\"ff\">Cancle</button>\r\n            <button onClick={createStream} >Create</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Create;\r\n","import React, {  useState } from \"react\";\r\nimport \"./Stream.css\";\r\nimport Header from \"../Header/Header\";\r\nimport Individual from \"./Individual/Individual\";\r\nimport Create from \"./Create/Create\";\r\n\r\nfunction Stream({ streams, flag, setWatchStream }) {\r\n    const [state, setState] = useState(true);\r\n    return (\r\n        <React.Fragment>\r\n            <Header />\r\n            <main className='mdl-layout__content'>\r\n                <div className='page-content'>\r\n                    <div className='str'>\r\n                        {state ? (\r\n                            <div>\r\n                                <Individual\r\n                                    streams={streams}\r\n                                    flag={flag}\r\n                                    setWatchStream={setWatchStream}\r\n                                />\r\n                                <button\r\n                                    onClick={() => setState(false)}\r\n                                    className='mdl-button mdl-js-button mdl-button--raised mdl-button--accent mdl-js-ripple-effect btn'>\r\n                                    <i className='material-icons'>\r\n                                        settings_input_antenna\r\n                                    </i>\r\n                                    CREATE STREAM\r\n                                </button>\r\n                            </div>\r\n                        ) : (\r\n                            <Create setState={setState} />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Stream;\r\n","import React, { useRef, useEffect, useContext } from 'react'\r\nimport './Live.css';\r\nimport { getStorage, jep } from '../../func/serviceProvider';\r\nimport { Router } from '../../Router/Koute';\r\n//\r\nfunction Live({ stream, sendStream }) {\r\n    const video = useRef(null);\r\n    const { changeRoute } = useContext(Router);\r\n    useEffect(() => {\r\n        if (stream && video) {\r\n                                 video.current.srcObject = stream;\r\n            video.current.muted = true;\r\n            video.current.play();\r\n                             }\r\n        alertOthers();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [stream, video]);\r\n    const alertOthers = () => {\r\n        setInterval(() => {\r\n            sendStream({ data: jep(localStorage.stream), me: getStorage().me });\r\n        }, 5000);\r\n    };\r\n    const abort = () => {\r\n        changeRoute('home')\r\n    }\r\n    return (\r\n        <div className='live'>\r\n            <video ref={video}></video>\r\n            <button onClick={abort}>\r\n                <i className='material-icons'>close</i>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Live\r\n","import React, { useRef, useEffect, useContext } from 'react'\r\nimport './Watch.css';\r\nimport { Router } from '../../Router/Koute';\r\n//\r\nlet otherPeer = null;\r\nfunction Watch({ watchStream,swarm }) {\r\n    const video = useRef(null);\r\n    const { changeRoute } = useContext(Router);\r\n    useEffect(() => {\r\n        const peer = swarm.remotes[watchStream.data.me.id];\r\n        otherPeer = peer;\r\n        peer.stream.getTracks()[0].enabled = true;\r\n        if (video) {\r\n            video.current.srcObject = peer.stream;\r\n            video.current.play();\r\n                   }\r\n    }, [watchStream, swarm, video]);\r\n    const abort = () => {\r\n        otherPeer.stream.getTracks()[0].enabled = false;\r\n        changeRoute('home');\r\n    }\r\n    return (\r\n        <div className='watch'>\r\n            <video ref={video}></video>\r\n            <button onClick={abort}>\r\n                <i className='material-icons'>close</i>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Watch\r\n","import signalhub from \"signalhub\";\r\nimport createSwarm from \"webrtc-swarm\";\r\nimport { getStorage } from \"./serviceProvider\";\r\n//\r\nconst hub = signalhub(\"vid-chat\", [\r\n    \"https://signalhub-hzbibrznqa.now.sh\",\r\n    \"https://signalhub-jccqtwhdwc.now.sh\",\r\n]);\r\nconst user = getStorage().me;\r\nif (!localStorage.me) {\r\n    localStorage.me = JSON.stringify(user);\r\n}\r\nif (!localStorage.other) {\r\n    localStorage.other = JSON.stringify([]);\r\n}\r\nfunction swarmFunc(stream) {\r\n    const swarm = createSwarm(hub, {\r\n        stream: stream,\r\n        uuid: localStorage.me ? JSON.parse(localStorage.me).id : null\r\n    });\r\n    user.id = swarm.me;\r\n    localStorage.me = JSON.stringify(user);\r\n    \r\n\r\n    return swarm;\r\n}\r\nexport default swarmFunc;\r\n\r\n\r\n\r\n\r\n","import React, { useEffect, useContext } from 'react'\r\nimport { Router } from '../Router/Koute';\r\n\r\nfunction Responder({ state, fakeRoute }) {\r\n    const { changeRoute } = useContext(Router);\r\n    useEffect(() => {\r\n        if (state) {\r\n            if (state === \"ring\") {\r\n                changeRoute(\"coming\");\r\n            } else if (state === \"connected\") {\r\n                changeRoute(\"call\");\r\n            } else if (state === 'abort') {\r\n                changeRoute('home');\r\n            } else if (state === 'end') {\r\n                changeRoute('home');\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state]);\r\n    useEffect(() => {\r\n        if (fakeRoute !== '') {\r\n            changeRoute(fakeRoute);\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [fakeRoute]);\r\n    return <React.Fragment></React.Fragment>;\r\n}\r\n\r\nexport default Responder\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./Toast.css\";\r\nimport toastContext from \"../../Context/toastContext\";\r\n\r\nfunction Toast() {\r\n    const { toast, createToast } = useContext(toastContext);\r\n    const [visible, setVisible] = useState(false);\r\n    useEffect(() => {\r\n        if (toast.text !== \"\") {\r\n            setVisible(true);\r\n            setTimeout(delayVisible, 3000);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [toast]);\r\n    const delayVisible = () => {\r\n        setVisible(false);\r\n        setTimeout(delayErase, 500);\r\n    };\r\n    const delayErase = () => {\r\n        createToast(\"\", \"\");\r\n    };\r\n    return (\r\n        <div className={`${toast.type} toast ${visible ? \"show\" : \"hide\"}`}>\r\n            {toast.text}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Toast;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppSignal from './Components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<AppSignal />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\n//components\r\nimport Control from \"./Control\";\r\nimport Call from \"./Call/Call\";\r\nimport Coming from \"./Offer/Coming/Coming\";\r\nimport Going from \"./Offer/Going/Going\";\r\nimport Pages from \"./Pages/Pages\";\r\nimport Home from \"./Home/Home\";\r\nimport Stream from './Stream/Stream';\r\nimport Live from './Stream/Live/Live';\r\nimport Watch from './Stream/Watch/Watch';\r\n//tools\r\nimport { Wrapper, Route } from \"./Router/Koute\";\r\nimport swarmFunc from \"./func/swarm\";\r\nimport {\r\n    firstPhase,\r\n    secondPhase,\r\n    phaseOneRequest,\r\n    getStorage,\r\n    sendPeer,\r\n    validatePeer,\r\n    streamExists\r\n} from \"./func/serviceProvider\";\r\nimport profileContext from \"./../Context/profileContext\";\r\nimport Responder from \"./func/Responder\";\r\nimport Toast from \"./Toast/Toast\";\r\nimport toastContext from \"../Context/toastContext\";\r\n//\r\nexport default function App() {\r\n    // const conn = true;\r\n    const [stream, setStream] = useState(null);\r\n    const [swarm, setSwarm] = useState(null);\r\n    const [state, setState] = useState({ type: null, data: null });\r\n    const [pro, setPro] = useState({\r\n        name: \"\",\r\n        photo: \"\"\r\n    });\r\n    const [comingPro, changeComingPro] = useState({\r\n        name: \"\",\r\n        photo: \"\"\r\n    });\r\n    const [toast, changeToast] = useState({ text: \"\", type: \"\" });\r\n    const [fakeRoute, changeFakeRoute] = useState(\"\");\r\n    const [msg, setMsg] = useState([]);\r\n    const [otherFilter, setOtherFilter] = useState(false);\r\n    const [count, setCount] = useState(0);\r\n    const [otherPause, setOtherPause] = useState(false);\r\n    const [otherMute, setOtherMute] = useState(false);\r\n    const [streams, setStreams] = useState([]);\r\n    const [flag, setFlag] = useState(0);\r\n    const [watchStream, setWatchStream] = useState(null);\r\n    const createToast = (text, type) => {\r\n        changeToast({ text, type });\r\n    };\r\n    const thirdPhase = (data) => {\r\n        if (data.type === \"text\") {\r\n            let value = msg;\r\n            value.push(data.data);\r\n            setMsg(value);\r\n            setCount(msg.length);\r\n        } else if (data.type === \"filter\") {\r\n            setOtherFilter(data.data);\r\n        } else if (data.type === 'pause') {\r\n            setOtherPause(data.data);\r\n        } else if (data.type === 'mute') {\r\n            setOtherMute(data.data)\r\n        } else {\r\n            console.log('phase 3 data type is not correct')\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (state.type === \"ring\") {\r\n            changeComingPro(state.data.who.pro);\r\n        }\r\n    }, [state]);\r\n    useEffect(() => {\r\n        navigator.mediaDevices\r\n            .getUserMedia({\r\n                video: true,\r\n                audio: true\r\n            })\r\n            .then(str => {\r\n                setStream(str);\r\n            }).catch(err=>console.log(err));\r\n    }, []);\r\n    useEffect(() => {\r\n        if (stream) {\r\n            setSwarm(swarmFunc(stream));\r\n        }\r\n    }, [stream]);\r\n\r\n    useEffect(() => {\r\n        if (navigator.onLine) {\r\n            if (swarm) {\r\n                swarm.on(\"connect\", (peer, id) => {\r\n                    console.log(\"peer connected\", id);\r\n                    peer.on(\"data\", data => {\r\n                        data = JSON.parse(data.toString());\r\n                        console.log(data)\r\n                        if (data.phase === 1) {\r\n                            firstPhase(swarm, data);\r\n                        } else if (data.phase === 2) {\r\n                            setState(secondPhase(swarm, data));\r\n                        } else if (data.phase === 3) {\r\n                            thirdPhase(data);\r\n                        } else if (data.phase === 4) {\r\n                            console.log(data)\r\n                            if (!streamExists(streams, data)) {   \r\n                                let array = streams;\r\n                                array.push(data);\r\n                                setStreams(array);\r\n                                setFlag(streams.length);\r\n                            }\r\n                        }else{\r\n                            console.log(\"phase is not correct\");\r\n                        }\r\n                    });\r\n                    if (peer.stream) {\r\n                        peer.stream.getTracks()[0].enabled = false;\r\n\r\n                        const other = document.createElement(\"audio\");\r\n                        other.srcObject = peer.stream;\r\n                        other.play();\r\n                        document.body.appendChild(other);\r\n                    }\r\n                });\r\n                phaseOneRequest(swarm);\r\n\r\n                setInterval(() => {\r\n                    console.log(\"[peers]: \", swarm.peers.length);\r\n                    phaseOneRequest(swarm);\r\n                }, 3000);\r\n            }\r\n            console.log(swarm);\r\n        } else {\r\n            console.error(\"YOU ARE OFFLINE\");\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [swarm]);\r\n    const delayFake = () => {\r\n        changeFakeRoute(\"\");\r\n    };\r\n    const call = id => {\r\n        const peer = sendPeer(id, swarm, {\r\n            type: \"offer\",\r\n            who: { your: id, me: swarm.me, pro: getStorage().me },\r\n            phase: 2\r\n        });\r\n        //\r\n        if (peer) {\r\n            changeFakeRoute(\"going\");\r\n            setTimeout(delayFake, 2000);\r\n            console.log(\"Calling to: \", peer);\r\n        } else {\r\n            createToast(\"User is not Online right now\", \"w\");\r\n        }\r\n    };\r\n    const answer = id => {\r\n        const peer = swarm.remotes[id];\r\n        const isPeer = sendPeer(id, swarm, {\r\n            type: \"answer\",\r\n            who: swarm.me,\r\n            phase: 2\r\n        });\r\n        if (isPeer) {\r\n            peer.stream.getTracks()[0].enabled = true;\r\n        } else {\r\n            createToast(\r\n                \"There is a netWork defficulty now, can't Answer!\",\r\n                \"r\"\r\n            );\r\n        }\r\n    };\r\n    const reject = id => {\r\n        sendPeer(id, swarm, {\r\n            type: \"rejected\",\r\n            who: swarm.me,\r\n            phase: 2\r\n        });\r\n    };\r\n    const abort = id => {\r\n        sendPeer(id, swarm, {\r\n            type: \"abort\",\r\n            who: swarm.me,\r\n            phase: 2\r\n        });\r\n    };\r\n    const callAccepted = id => {\r\n        sendPeer(id, swarm, {\r\n            type: \"accepted\",\r\n            who: swarm.me,\r\n            phase: 2\r\n        });\r\n    };\r\n    const endCall = id => {\r\n        sendPeer(id, swarm, {\r\n            type: \"end\",\r\n            who: swarm.me,\r\n            phase: 2\r\n        });\r\n    }\r\n    const sendText = (id, text) => {\r\n        if (text !== '') {\r\n            const isSent = sendPeer(id, swarm, { type: \"text\", data: {name:getStorage().me.name,msg:text}, phase: 3 });\r\n            if (!isSent) {\r\n                createToast('Unable to send text, Try Again!', 'r')\r\n                return false;\r\n            } \r\n        }\r\n        return true;\r\n    };\r\n    const sendFilter = (id, value) => {\r\n        const isSent = sendPeer(id, swarm, {\r\n            type: \"filter\",\r\n            data: value,\r\n            phase: 3\r\n        });\r\n        if (!isSent) {\r\n            createToast(\"Unable to set Filter, Try Again!\", \"r\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    const sendPause = (id,value) => {\r\n        const isSent = sendPeer(id, swarm, {\r\n            type: \"pause\",\r\n            data: value,\r\n            phase: 3\r\n        });\r\n        if (!isSent) {\r\n            createToast(\"Unable to Pause, Try Again!\", \"r\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    const sendMute = (id, value) => {\r\n        const isSent = sendPeer(id, swarm, {\r\n            type: \"mute\",\r\n            data: value,\r\n            phase: 3\r\n        });\r\n        if (!isSent) {\r\n            createToast(\"Unable to Mute, Try Again!\", \"r\");\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    const sendStream = (value) => {\r\n        // eslint-disable-next-line array-callback-return\r\n        swarm.peers.map(peer => {\r\n            validatePeer(peer, { type: \"stream\", data: value, phase: 4 });\r\n        })\r\n    }\r\n    return (\r\n        <div className='mdl-layout mdl-js-layout mdl-layout--fixed-header'>\r\n            <profileContext.Provider\r\n                value={{\r\n                    profile: pro,\r\n                    changeProfile: setPro,\r\n                    call,\r\n                    comingPro,\r\n                    changeComingPro,\r\n                    answer,\r\n                    reject\r\n                }}>\r\n                <toastContext.Provider value={{ toast, createToast }}>\r\n                    <Toast />\r\n                    <Wrapper base={getStorage().me.name ? \"home\" : \"welcome\"}>\r\n                        <Responder state={state.type} fakeRoute={fakeRoute} />\r\n                        <Route\r\n                            path='watch'\r\n                            component={() => (\r\n                                <Watch\r\n                                    watchStream={watchStream}\r\n                                    swarm={swarm}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Route\r\n                            path='live'\r\n                            component={() => (\r\n                                <Live stream={stream} sendStream={sendStream} />\r\n                            )}\r\n                        />\r\n                        <Route\r\n                            path='stream'\r\n                            component={() => (\r\n                                <Stream\r\n                                    streams={streams}\r\n                                    flag={flag}\r\n                                    setWatchStream={setWatchStream}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Route\r\n                            path='contacts'\r\n                            component={() => (\r\n                                <Control peers={swarm ? swarm.remotes : {}} />\r\n                            )}\r\n                        />\r\n                        <Route path='profile' component={() => <Control />} />\r\n                        <Route\r\n                            path='call'\r\n                            component={() => (\r\n                                <Call\r\n                                    sendText={sendText}\r\n                                    msg={msg}\r\n                                    setMsg={setMsg}\r\n                                    otherFilter={otherFilter}\r\n                                    sendFilter={sendFilter}\r\n                                    count={count}\r\n                                    sendPause={sendPause}\r\n                                    otherPause={otherPause}\r\n                                    stream={stream}\r\n                                    swarm={swarm}\r\n                                    sendMute={sendMute}\r\n                                    otherMute={otherMute}\r\n                                    endCall={endCall}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Route\r\n                            path='coming'\r\n                            component={() => (\r\n                                <Coming\r\n                                    reject={reject}\r\n                                    callAccepted={callAccepted}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Route\r\n                            path='going'\r\n                            component={() => (\r\n                                <Going\r\n                                    state={state}\r\n                                    abort={abort}\r\n                                    setState={setState}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Route path='welcome' component={() => <Pages />} />\r\n                        <Route path='login' component={() => <Pages />} />\r\n                        <Route path='signup' component={() => <Pages />} />\r\n                        <Route path='home' component={() => <Home />} />\r\n                    </Wrapper>\r\n                </toastContext.Provider>\r\n            </profileContext.Provider>\r\n        </div>\r\n    );\r\n    // return (\r\n    //     <div>\r\n    //         {conn ? (\r\n    //             <Call />\r\n    //         ) : (\r\n    //             <div className='mdl-layout mdl-js-layout mdl-layout--fixed-header'>\r\n    //                 <Control />\r\n    //             </div>\r\n    //         )}\r\n    //     </div>\r\n    // );\r\n}\r\n"],"sourceRoot":""}